#!/bin/bash

echo "========================================="
echo "SEED Labs Buffer Overflow Demonstration"
echo "========================================="
echo ""

cd "$(dirname "$0")/../vulnerable-programs/seedlabs-stack"

echo "[1] Showing normal program behavior..."
echo "test" > badfile
./stack
echo ""

echo "[2] Generating exploit payload..."
cd ../../exploits
python3 seedlabs_final_fix.py
echo ""

echo "[3] Running exploit..."
cd ../vulnerable-programs/seedlabs-stack
echo "Commands to try in the shell:"
echo "  - whoami"
echo "  - id  "
echo "  - exit"
echo ""
./stack
